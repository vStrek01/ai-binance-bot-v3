config_version: 1
run_mode: demo-live
use_testnet: true

symbols:
  - BTCUSDT
  - BCHUSDT
  - ETHUSDT
  - ETCUSDT
  - LTCUSDT
  - XRPUSDT
interval: "1m"
strategy_mode: "scalping"

universe:
  timeframes:
    - 1m
    - 5m
    - 15m
    - 1h
  demo_symbols:
    - BTCUSDT
    - BCHUSDT
    - ETHUSDT
    - ETCUSDT
    - LTCUSDT
    - XRPUSDT
  default_symbols:
    - BTCUSDT
    - BCHUSDT
    - ETHUSDT
    - ETCUSDT
    - LTCUSDT
    - XRPUSDT

symbol_risk:
  BTCUSDT:
    symbol: BTCUSDT
    max_leverage: 20
    margin_mode: ISOLATED
    max_open_positions: 2
  BCHUSDT:
    symbol: BCHUSDT
    max_leverage: 20
    margin_mode: ISOLATED
    max_open_positions: 2
  ETHUSDT:
    symbol: ETHUSDT
    max_leverage: 20
    margin_mode: ISOLATED
    max_open_positions: 2
  ETCUSDT:
    symbol: ETCUSDT
    max_leverage: 20
    margin_mode: ISOLATED
    max_open_positions: 2
  LTCUSDT:
    symbol: LTCUSDT
    max_leverage: 20
    margin_mode: ISOLATED
    max_open_positions: 2
  XRPUSDT:
    symbol: XRPUSDT
    max_leverage: 20
    margin_mode: ISOLATED
    max_open_positions: 2

baseline_strategy:
  fast_ema: 13
  slow_ema: 34
  rsi_period: 14
  rsi_overbought: 68
  rsi_oversold: 32
  atr_period: 14
  atr_stop_multiple: 1.6
  higher_tf_trend_interval: ""
  min_atr_pct: 0.01
  max_atr_pct: 2.5

scalping_strategy:
  fast_ema: 50
  slow_ema: 200
  k_period: 14
  d_period: 3
  oversold: 20.0
  overbought: 80.0
  stop_loss_pct: 0.002
  take_profit_pct: 0.003
  size_usd: 1000.0

trading_timezone: "UTC"
max_clock_drift_ms: 1500

runtime:
  dry_run: false
  live_trading: true
  use_testnet: true
  require_live_confirmation: true
  poll_interval_seconds: 8
  max_margin_utilization: 0.65
  top_symbols: 8

exchange:
  use_testnet: true
  api_key: null
  api_secret: null
  rest_base_url: "https://demo-fapi.binance.com"
  ws_market_url: "wss://demo-fapi.binance.com/ws"
  ws_user_url: "wss://demo-fapi.binance.com/ws"

risk:
  per_trade_risk: 0.06            # risk roughly 6% of paper balance per trade for demo push
  max_daily_loss_pct: 0.25        # 25% max daily drawdown since this is testnet-only
  leverage: 15
  max_consecutive_losses: 999
  max_notional_per_symbol: 4500.0
  max_notional_global: 13500.0
  max_symbol_exposure: 0.5
  max_account_exposure: 0.85
  require_sl_tp: true
  stop_trading_on_daily_loss: false

sizing:
  mode: atr
  atr_period: 14
  atr_multiple: 1.6
  std_window: 20
  std_multiple: 0.8
  min_notional: 50.0
  max_notional: 5000.0

strategy:
  default_parameters:
    fast_ema: 3
    slow_ema: 8
    rsi_length: 12.0
    rsi_overbought: 53
    rsi_oversold: 47
    atr_period: 14.0
    atr_stop: 1.3
    atr_target: 1.8
    cooldown_bars: 0
    hold_bars: 1
    min_volatility_pct: 0.008   # aligned with ATR floor to avoid volatility veto during calm sessions
    max_spread_pct: 0.08
    trend_confirm_bars: 0.0
    higher_tf_trend_bars: 0
    min_reentry_bars_same_dir: 0.0
    min_reentry_bars_flip: 0.0
  demo_live_overrides:
    fast_ema: 3.0
    slow_ema: 8.0
    rsi_overbought: 51.0
    rsi_oversold: 49.0
    cooldown_bars: 0.0
    hold_bars: 1.0
    min_reentry_bars_same_dir: 0.0
    min_reentry_bars_flip: 0.0
    higher_tf_trend_bars: 0
    trend_confirm_bars: 0.0
    atr_stop: 1.1
    atr_target: 1.6
  filters:
    min_atr_pct: 0.006   # loosened for high-frequency demo/live practice
    max_atr_pct: 9999
  symbol_overrides:
    BTCUSDT:
      fast_ema: 3.0
      slow_ema: 8.0
      rsi_overbought: 51.0
      rsi_oversold: 47.0
      cooldown_bars: 0.0
      hold_bars: 1.0
      atr_stop: 1.2
      atr_target: 1.7
      min_reentry_bars_same_dir: 0
      min_reentry_bars_flip: 0
      higher_tf_trend_bars: 0
      trend_confirm_bars: 0
    ETHUSDT:
      fast_ema: 3.0
      slow_ema: 8.0
      rsi_overbought: 51.0
      rsi_oversold: 47.0
      cooldown_bars: 0.0
      hold_bars: 1.0
      atr_stop: 1.2
      atr_target: 1.7
      min_reentry_bars_same_dir: 0
      min_reentry_bars_flip: 0
      higher_tf_trend_bars: 0
      trend_confirm_bars: 0
    BCHUSDT:
      fast_ema: 3.0
      slow_ema: 8.0
      rsi_overbought: 50.0
      rsi_oversold: 48.5
      cooldown_bars: 0.0
      hold_bars: 1.0
      atr_stop: 1.2
      atr_target: 1.8
      min_reentry_bars_same_dir: 0
      min_reentry_bars_flip: 0
      higher_tf_trend_bars: 0
      trend_confirm_bars: 0
    ETCUSDT:
      fast_ema: 3.0
      slow_ema: 8.0
      rsi_overbought: 50.5
      rsi_oversold: 48.5
      cooldown_bars: 0.0
      hold_bars: 1.0
      atr_stop: 1.2
      atr_target: 1.8
      min_reentry_bars_same_dir: 0
      min_reentry_bars_flip: 0
      higher_tf_trend_bars: 0
      trend_confirm_bars: 0
    LTCUSDT:
      fast_ema: 3.0
      slow_ema: 8.0
      rsi_overbought: 50.5
      rsi_oversold: 48.5
      cooldown_bars: 0.0
      hold_bars: 1.0
      atr_stop: 1.15
      atr_target: 1.7
      min_reentry_bars_same_dir: 0
      min_reentry_bars_flip: 0
      higher_tf_trend_bars: 0
      trend_confirm_bars: 0
    XRPUSDT:
      fast_ema: 3.0
      slow_ema: 8.0
      rsi_overbought: 50.5
      rsi_oversold: 48.5
      cooldown_bars: 0.0
      hold_bars: 1.0
      atr_stop: 1.2
      atr_target: 1.9
      min_reentry_bars_same_dir: 0
      min_reentry_bars_flip: 0
      higher_tf_trend_bars: 0
      trend_confirm_bars: 0
  parameter_space:
    fast_ema: [5.0, 8.0, 13.0, 21.0]
    slow_ema: [34.0, 55.0, 89.0, 144.0]
    rsi_overbought: [52.0, 55.0, 58.0, 62.0]
    rsi_oversold: [38.0, 42.0, 45.0, 48.0]
    atr_stop: [1.2, 1.4, 1.6, 1.9]
    atr_target: [2.0, 2.4, 2.8, 3.2]
    cooldown_bars: [0.0, 1.0, 2.0, 4.0]
    hold_bars: [30.0, 45.0, 60.0, 90.0]
    trend_confirm_bars: [0.0, 21.0, 34.0, 55.0]
    min_volatility_pct: [0.05, 0.1, 0.15, 0.2]
    max_spread_pct: [0.03, 0.05, 0.07, 0.1]
    min_reentry_bars_same_dir: [8.0, 12.0, 16.0, 20.0]
    min_reentry_bars_flip: [2.0, 4.0, 6.0]

multi_timeframe:
  enabled: false
  confirm_timeframes:
    - "5m"
  ema_fast: 21
  ema_slow: 55
  rsi_upper: 65.0
  rsi_lower: 35.0
  require_alignment: true
