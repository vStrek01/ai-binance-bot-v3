config_version: 1
run_mode: demo-live
use_testnet: true

symbols:
  - BTCUSDT
  - BCHUSDT
  - ETHUSDT
  - ETCUSDT
  - LTCUSDT
  - XRPUSDT
interval: "1m"

universe:
  timeframes:
    - 1m
    - 5m
    - 15m
    - 1h
  demo_symbols:
    - BTCUSDT
    - BCHUSDT
    - ETHUSDT
    - ETCUSDT
    - LTCUSDT
    - XRPUSDT
  default_symbols:
    - BTCUSDT
    - BCHUSDT
    - ETHUSDT
    - ETCUSDT
    - LTCUSDT
    - XRPUSDT

symbol_risk:
  BTCUSDT:
    symbol: BTCUSDT
    max_leverage: 10
    margin_mode: ISOLATED
    max_open_positions: 1
  BCHUSDT:
    symbol: BCHUSDT
    max_leverage: 10
    margin_mode: ISOLATED
    max_open_positions: 1
  ETHUSDT:
    symbol: ETHUSDT
    max_leverage: 10
    margin_mode: ISOLATED
    max_open_positions: 1
  ETCUSDT:
    symbol: ETCUSDT
    max_leverage: 10
    margin_mode: ISOLATED
    max_open_positions: 1
  LTCUSDT:
    symbol: LTCUSDT
    max_leverage: 10
    margin_mode: ISOLATED
    max_open_positions: 1
  XRPUSDT:
    symbol: XRPUSDT
    max_leverage: 10
    margin_mode: ISOLATED
    max_open_positions: 1

baseline_strategy:
  fast_ema: 13
  slow_ema: 34
  rsi_period: 14
  rsi_overbought: 68
  rsi_oversold: 32
  atr_period: 14
  atr_stop_multiple: 1.6
  higher_tf_trend_interval: "15m"
  min_atr_pct: 0.15
  max_atr_pct: 2.5

trading_timezone: "UTC"
max_clock_drift_ms: 1500

runtime:
  dry_run: false
  live_trading: true
  use_testnet: true
  require_live_confirmation: true
  poll_interval_seconds: 30
  max_margin_utilization: 0.35
  top_symbols: 6

exchange:
  use_testnet: true
  api_key: null
  api_secret: null
  rest_base_url: "https://demo-fapi.binance.com"
  ws_market_url: "wss://demo-fapi.binance.com/ws"
  ws_user_url: "wss://demo-fapi.binance.com/ws"

risk:
  per_trade_risk: 0.001           # 0.1% max risk per trade
  max_daily_loss_pct: 0.1         # 10% max daily drawdown for demo-live
  leverage: 10
  max_consecutive_losses: 3
  max_notional_per_symbol: 500.0
  max_notional_global: 1500.0
  require_sl_tp: true

strategy:
  demo_live_overrides:
    fast_ema: 5.0
    slow_ema: 13.0
    rsi_overbought: 50.0
    rsi_oversold: 48.0
    cooldown_bars: 0.0
    hold_bars: 15.0
    min_reentry_bars_same_dir: 4.0
    min_reentry_bars_flip: 1.0
    atr_stop: 1.2
    atr_target: 2.0
  filters:
    min_atr_pct: 0.015   # relaxed ATR floor to allow more trades during low volatility
    max_atr_pct: 2.5
  symbol_overrides:
    BTCUSDT:
      fast_ema: 5.0
      slow_ema: 13.0
      rsi_overbought: 52.0
      rsi_oversold: 45.0
      cooldown_bars: 0.0
      hold_bars: 12.0
      atr_stop: 1.4
      atr_target: 2.0
      min_reentry_bars_same_dir: 8
      min_reentry_bars_flip: 2
    ETHUSDT:
      fast_ema: 5.0
      slow_ema: 13.0
      rsi_overbought: 52.0
      rsi_oversold: 45.0
      cooldown_bars: 0.0
      hold_bars: 12.0
      atr_stop: 1.4
      atr_target: 2.0
      min_reentry_bars_same_dir: 8
      min_reentry_bars_flip: 2
    BCHUSDT:
      fast_ema: 5.0
      slow_ema: 13.0
      rsi_overbought: 50.0
      rsi_oversold: 48.0
      cooldown_bars: 0.0
      hold_bars: 10.0
      atr_stop: 1.3
      atr_target: 2.1
      min_reentry_bars_same_dir: 4
      min_reentry_bars_flip: 1
    ETCUSDT:
      fast_ema: 5.0
      slow_ema: 13.0
      rsi_overbought: 50.0
      rsi_oversold: 48.0
      cooldown_bars: 0.0
      hold_bars: 10.0
      atr_stop: 1.3
      atr_target: 2.1
      min_reentry_bars_same_dir: 4
      min_reentry_bars_flip: 1
    LTCUSDT:
      fast_ema: 5.0
      slow_ema: 13.0
      rsi_overbought: 50.0
      rsi_oversold: 48.0
      cooldown_bars: 0.0
      hold_bars: 11.0
      atr_stop: 1.25
      atr_target: 2.0
      min_reentry_bars_same_dir: 4
      min_reentry_bars_flip: 1
    XRPUSDT:
      fast_ema: 5.0
      slow_ema: 13.0
      rsi_overbought: 50.0
      rsi_oversold: 48.0
      cooldown_bars: 0.0
      hold_bars: 8.0
      atr_stop: 1.35
      atr_target: 2.2
      min_reentry_bars_same_dir: 4
      min_reentry_bars_flip: 1
  parameter_space:
    fast_ema: [5.0, 8.0, 13.0, 21.0]
    slow_ema: [34.0, 55.0, 89.0, 144.0]
    rsi_overbought: [52.0, 55.0, 58.0, 62.0]
    rsi_oversold: [38.0, 42.0, 45.0, 48.0]
    atr_stop: [1.2, 1.4, 1.6, 1.9]
    atr_target: [2.0, 2.4, 2.8, 3.2]
    cooldown_bars: [0.0, 1.0, 2.0, 4.0]
    hold_bars: [30.0, 45.0, 60.0, 90.0]
    trend_confirm_bars: [0.0, 21.0, 34.0, 55.0]
    min_volatility_pct: [0.05, 0.1, 0.15, 0.2]
    max_spread_pct: [0.03, 0.05, 0.07, 0.1]
    min_reentry_bars_same_dir: [8.0, 12.0, 16.0, 20.0]
    min_reentry_bars_flip: [2.0, 4.0, 6.0]
